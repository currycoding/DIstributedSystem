##<center>分布式系统第一次作业<center>
##<center>唐成文 21307236<center>
1. 请分析一下进程虚拟机，如JVM，与操作系统虚拟机，包括原生虚拟机和主机虚拟机，各有什么特点？
**答：**
* 进程虚拟机的特点包括：
  * 在作用上进程虚拟机主要用于执行单个进程或应用程序的隔离和管理。例如Java虚拟机（也即JVM），就是用于执行Java应用程序的进程虚拟机。
  * 在隔离性上进程虚拟机隔离的是应用程序。即每个虚拟机实例运行在独立的进程中，不同虚拟机之间是相互隔离的，一个进程虚拟机出现故障不会影响到其他进程虚拟机。
  * 在性能开销上因为进程虚拟机通常是专门为某种特定的程序或编程语言设计的，所以它们可以在执行速度方面进行优化，但通常会占用较多的计算机内存和资源。
  * 在编程语言方面因为进程虚拟机只是针对特定进程，因此它通常针对特定的一种编程语言，如JVM针对Java。因也就是说进程虚拟机的选择会决定不同应用程序的编程语言选择。
* 操作系统虚拟机的特点则是：
  * 在作用上操作系统虚拟机主要用于支持在一个操作系统上运行多个不同操作系统的实例。
  * 在隔离性方面操作系统虚拟机普遍都能提供较好的隔离性。例如在原生虚拟机中不同虚拟机之间运行的操作系统实例是相互独立的，它们有自己的内核和文件系统。
  * 在性能开销上原生虚拟机通常会有较高的性能开销，因为每个虚拟机都模拟了完整的操作系统。而主机虚拟机的虚拟化开销相对较低，因为虚拟机管理软件不需要模拟硬件或运行独立的虚拟化操作系统。虚拟机可以直接在宿主操作系统上运行，与硬件直接通信。
  * 在编程语言方面操作系统虚拟机不特定局限于某种编程语言，而是提供了一个通用的虚拟化环境，可以在其上运行各种编程语言的应用程序。
  
1. 请分析讨论：基于目录服务器和基于超级服务器的两种服务器发现方法各有什么优缺点？
**答：**
* 基于目录服务器的服务器发现方法是使用专门的目录服务器来存储和维护有关可用网络服务的信息。目录服务器充当中央注册和查找服务的仲裁点。客户端应用程序通过查询目录服务器来获取所需服务的信息，包括服务的位置、特性、状态和可用性。
    * 其优点包括：
      * 提供分布式环境： 目录服务器通常用于分布式环境，能够提供全局的服务发现。它们可以存储和管理大量的服务信息，以支持全局性的服务查找。
      * 具有较高灵活性： 目录服务器允许多种类型的服务信息被存储和查询，为通过它执行服务发现的客户端提供了较多选择。
      * 具有高度可扩展性： 可以通过扩展目录服务器以应对不断增长的服务信息和查询请求，扩展过程较为方便直接。

    * 其缺点是：
      * 部署和维护较为复杂： 部署和维护目录服务器通常需要较高的复杂性和成本，包括配置、数据同步和故障恢复等方面。
      * 单点故障影响整体： 单一的目录服务器如果出现问题故障，所有通过它执行的整个服务发现可能会受到影响。
      * 网络开销庞大： 所有的客户端都与同一个目录服务器进行连接和通信，需要更多的网络开销。

* 基于超级服务器的服务器发现方法是指每个客户端主机上都部署一个本地服务器，称为超级服务器或服务代理。这些本地服务器负责维护已知服务的信息和路由客户端请求。
  * 其优点包括：
    * 简单性： 超级服务器通常更容易配置和部署，不需要复杂的目录服务器架构。
    * 低开销： 超级服务器可以降低网络开销，因为它们通常在本地主机上运行，减少了与远程目录服务器的通信。
    * 快速响应： 超级服务器通常能够更快地响应服务查询，因为它们位于本地主机上，无需远程通信。
  * 其缺点是：
    * 局部性： 超级服务器通常只能提供本地服务的发现，不适合全局服务查找。这对于大型分布式系统可能不够。
    * 有限扩展性： 超级服务器在大规模和高负载环境下可能会受到限制，难以扩展。









* 引入优先级：每个进程在发送选举消息时，附带一个优先级值。这个优先级需要是进程的唯一标识符，例如进程的id号。
  * 判断选择机制：如果一个进程收到了Election消息，那他将会去判断这个消息的发起者：
    * 如果该Election消息是它自己发起的，那么它可以将这个消息变成一个协调者消息，包含自己的标识符，并在消息中声明这一信息。协调者消息的优先级可以设定为一个特定的高值，以防止这个消息被其他进程忽略。
    * 如果接收到的Election消息不是由该进程发起的，那么它将把自己的优先级加入消息中然后正常转发选举消息，如果后来它收到了第二个选举消息，则它会比较这条消息的优先级和自己的优先级。如果当前消息的优先级更高，那么它将按照正常的选举消息路由机制将消息传递给下一个进程。否则直接选择丢弃当前的消息。
