# <center>中山大学计算机学院<center>
# <center>分布式系统<center>
## <center>第二次作业<center>
## <center>（2023学年秋季学期）<center>
<!-- 让表格居中显示的风格 -->
<style>
.center 
{
  width: auto;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
</style>

<p align="center"><font face="黑体" size=2.>课程名称：Distributed System
</font></p>

<div class="center">

| 教学班级 | 2021级计算机科学<br>与技术2班 |专业（方向） | 计算机科学与技术 |
|----|----|----|----|
| **学号** | **21307236**| **姓名** | **唐成文** |

</div>

## (1) 请分析讨论RPC与一般的消息通信的关系、异同。
### 答：
#### 关系：
* RPC是消息通信的一种形式：RPC可以被看作是一种特殊的消息通信，其中通信的目的是远程执行函数或过程。在RPC中，客户端发送一个包含了类名、方法名、参数名和参数值的请求消息，服务器收到该消息后执行相应的远程过程，然后将结果作为响应消息返回给客户端。
#### 共同点：
*  RPC和一般消息通信都是为了实现分布式系统，允许不同的计算机或进程之间进行通信。它们使得应用程序能够在不同的主机之间执行操作或传递数据。
* RPC和一般消息通信都既支持异步通信，即发送方可以不必阻塞等待接收方的响应；又支持同步通信，即发送方需要等待接收方的响应，以便协调操作。
* RPC和一般消息通信都支持在不同网络环境中进行通信，包括局域网、广域网和互联网，而无需在特定网络中使用。
#### 不同点：
* 设计目的不同：RPC的主要设计目标是允许远程计算机或进程调用远程服务器上的函数或过程，就像本地函数调用一样。它的目标是在分布式系统中实现函数级别的远程通信。而一般的消息通信的目标则更加通用，它可以用于传递各种类型的消息、事件、数据等。它的目标是在分布式系统中实现灵活的消息传递。
* 灵活性不同：RPC通常是强类型的，需要定义接口并使用接口定义语言（IDL）来确保数据类型的一致性。这使得RPC更可控和严格。消息通信则更加灵活，可以适应多种通信需求，而不受函数调用的限制。它不要求严格的接口定义。
* 通信过程是否需要存储信息：RPC是一种请求-响应模型，其中客户端发送请求，等待服务器的响应，然后继续执行，通常不涉及消息的持久性存储。而一般的消息通信需要使用消息队列，涉及消息的持久性存储，这意味着消息在被发送前后可以存储在队列中，直到被发送或接收。

## (2) Gossip的多播与基于Overlay的多播各适于什么样的场景？请举例说明。
### 答：
#### Gossip多播是指消息或数据从一个节点开始传播，并通过随机选择一组对等节点来继续传播，这些节点再随机选择其他节点传播，以此类推。
* 其主要特征包括：
  * 去中心化：Gossip多播不需要集中的中心节点来协调消息传播，每个节点都可以充当发送者和接收者，使网络变得中心化。
  * 随机化：消息传播是随机的，每个节点从其已知的对等节点中随机选择一组节点来传播消息。这增加了网络的容错性，因为即使某些节点不可用，消息仍然能够传播。
  * 容错性强：由于消息可以随机传播到网络中的多个节点，Gossip多播具有很强的容错性。即使一些节点出现故障或离线，消息仍然能够到达其他节点。
* 因此Gossip多播适合的场景包括：
  * 分布式数据库：因为在分布式数据库中，数据的分布和一致性是关键问题，而Gossip多播通过随机化的消息传播方式，使得数据的变更和状态更新能够以分布式方式传播到所有节点，从而维护数据的一致性。
  * 区块链网络：区块链需要确保所有节点都具有相同的区块链数据，以保持一致性，而Gossip多播可以有效地传播新的区块和交易，以确保每个节点都包含相同的数据。
#### Overlay的多播使用了一种额外的虚拟网络层来实现多播传输，而不依赖底层网络协议的多播支持。
* 其主要特征包括：
  * 使用覆盖网络：Overlay多播使用的覆盖网络是一个虚拟网络层，独立于底层物理网络。在覆盖网络中，节点之间建立逻辑连接，形成一个多播组，多播组内的节点可以在覆盖网络中进行多播通信。
  * 节点加入机制：节点在进行Overlay多播之前需要主动加入多播组。加入多播组后就会成为组成员，代表了它们已经准备好接收多播消息。节点可以随时选择加入或离开多播组，使得 Overlay多播具有动态性。
  * 消息传递全组：一旦节点加入多播组，它们可以发送消息到该组。这些消息会通过覆盖网络传递给所有组成员。消息通常是通过点对点传递的方式，每个节点将消息转发给其邻居节点，然后消息会在整个多播组中传播。这种方式确保了消息最终到达了所有组成员，实现了多播传输。
* 因此Overlay多播适合的场景包括：
  * 实时音视频传输：实时音视频传输需要低延迟和高质量的通信，同时要在广泛的网络环境中运行。基于Overlay 的多播可以减少网络拥塞和提供更高的性能，适合实时音视频传输应用。
  * 在线游戏多播：在线游戏需要实时多播消息传递，例如广播游戏事件、位置信息和动态内容，而Overlay 多播具有更好的控制性，进而适应游戏中的多播通信需求。